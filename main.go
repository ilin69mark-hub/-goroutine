package main

import (
	"fmt"
	"sync"
)

func main() {
	// Создаем WaitGroup для синхронизации горутин
	var wg sync.WaitGroup

	// Используем один вызов Add(5), чтобы указать, что будет 5 горутин
	wg.Add(5)

	// Запускаем 5 горутин
	for i := 1; i <= 5; i++ {
		go func(routineNum int) {
			// Каждая горутина печатает свой порядковый номер 10 раз
			for j := 0; j < 10; j++ {
				fmt.Printf("Горутина %d, итерация %d\n", routineNum, j+1)
			}
			// Сообщаем, что горутина завершена
			wg.Done()
		}(i) // Передаем номер горутины как аргумент, чтобы избежать захвата переменной цикла
	}

	// Ждем завершения всех горутин
	wg.Wait()

	fmt.Println("Все горутины завершены")
}